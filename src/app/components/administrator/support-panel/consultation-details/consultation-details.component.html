<div class="max-w-3xl mx-auto">
    <div class="border-b">
      <div class="flex justify-between items-start">
        <div>
          <h2 class="text-2xl font-bold mb-2">{{ consultation?.subject }}</h2>
          <p class="text-sm text-gray-500">Ticket #{{ consultation?.inquiry_id }}</p>
        </div>
        <span [class]="getStatusClass(consultation?.status)">
          {{ consultation?.status?.charAt(0)?.toUpperCase() + consultation?.status?.slice(1) }}
        </span>
      </div>
    </div>
    
    <div class="pt-6">
      <div class="grid gap-6">
        <!-- Información del Usuario -->
        <section class="bg-gray-50 p-4 rounded-lg">
            <h3 class="text-lg font-semibold mb-4 flex items-center gap-2">
            <i class="fas fa-user"></i>
            Información del Usuario
            <div class="relative group" *ngIf="consultation.user_id">
                <i class="fas fa-check-circle text-green-500 text-sm cursor-pointer"></i>
                <!-- Tooltip personalizado -->
                <div class="absolute left-0 -bottom-8 bg-gray-700 text-white text-xs px-2 py-1 rounded opacity-0 group-hover:opacity-100 transition-opacity duration-200 whitespace-normal sm:whitespace-nowrap">
                Este usuario está registrado en la aplicación
                </div>
            </div>
            </h3>
            <div class="grid md:grid-cols-2 gap-4">
            <div>
                <p class="text-sm text-gray-500">Nombre</p>
                <p class="font-medium">{{ consultation?.user_name }}</p>
            </div>
            <div>
                <p class="text-sm text-gray-500">Correo Electrónico</p>
                <p class="font-medium">{{ consultation?.user_email }}</p>
            </div>
            </div>
        </section>
  
        <!-- Detalles del Mensaje -->
        <section class="border-t pt-6">
          <h3 class="text-lg font-semibold mb-4 flex items-center gap-2">
            <i class="fas fa-comment"></i>
            Mensaje
          </h3>
          <p class="whitespace-pre-wrap bg-white p-4 rounded-lg border">
            {{ consultation?.message }}
          </p>
        </section>
  
        <!-- Información de Contacto -->
        <section class="border-t pt-6">
          <h3 class="text-lg font-semibold mb-4 flex items-center gap-2">
            <i class="fas fa-envelope"></i>
            Canales de Comunicación
          </h3>
          <div class="grid md:grid-cols-2 gap-4">
            <div>
              <p class="text-sm text-gray-500">Canal de Contacto</p>
              <p class="font-medium capitalize">{{ consultation?.contact_channel }}</p>
            </div>
            <div>
              <p class="text-sm text-gray-500">Canal de Respuesta</p>
              <p class="font-medium capitalize">{{ consultation?.response_channel }}</p>
            </div>
          </div>
        </section>
  
        <!-- Información Temporal -->
        <section class="border-t pt-6">
          <h3 class="text-lg font-semibold mb-4 flex items-center gap-2">
            <i class="fas fa-clock"></i>
            Registro Temporal
          </h3>
          <div class="grid md:grid-cols-2 gap-4">
            <div>
              <p class="text-sm text-gray-500">Creado</p>
              <p class="font-medium">{{ formatDate(consultation?.created_at) }}</p>
            </div>
            <div>
              <p class="text-sm text-gray-500">Última Actualización</p>
              <p class="font-medium">{{ formatDate(consultation?.updated_at) }}</p>
            </div>
          </div>
        </section>
      </div>
    </div>
  </div>