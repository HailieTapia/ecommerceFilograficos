<div class="p-6 sm:p-8">
  <h2 class="text-3xl font-bold text-center mb-8 text-gray-900">Accesos Fallidos</h2>

  <div class="mb-6">
    <label for="periodo" class="block text-lg font-medium text-gray-700">Selecciona un periodo:</label>
    <select id="periodo" [(ngModel)]="selectedPeriodo" (change)="onPeriodoChange()"
      class="mt-2 p-3 border border-gray-300 rounded-lg w-full focus:ring-2 focus:ring-blue-500 focus:outline-none text-gray-800 transition duration-300 ease-in-out hover:border-gray-400">
      <option value="dia">DÃ­a</option>
      <option value="semana">Semana</option>
      <option value="mes">Mes</option>
    </select>
  </div>

  <ul class="space-y-6">
    <li *ngFor="let attempt of failedLoginAttempts"
      class="p-6 border border-gray-200 rounded-lg bg-gradient-to-r from-gray-50 to-white hover:from-gray-100 hover:to-gray-50 transition duration-300 ease-in-out transform hover:-translate-y-1 hover:shadow-lg">
      <div class="flex flex-col sm:flex-row sm:justify-between sm:items-center">
        <div class="sm:w-3/5 mb-4">
          <h3 class="text-xl font-semibold text-gray-800">{{ attempt.nombre }}</h3>
          <p class="text-gray-600">{{ attempt.email }}</p>
          <p class="text-gray-600">{{ attempt.estado }}</p>
          <p class="text-gray-600">{{ attempt.fecha | date: 'short' }}</p>
          <p class="text-gray-600">{{ attempt.tipo_usuario }}</p>
        </div>
        <div class="sm:w-1/5">
          <span class="block text-sm text-gray-500">Intentos: <strong class="text-red-500">{{ attempt.numero_intentos
              }}</strong></span>

          <button *ngIf="attempt.estado === 'bloqueado_permanente'" (click)="desbloquearUsuario(attempt.user_id)"
            class="mt-4 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition flex items-center justify-center space-x-2 w-full transform hover:scale-105">
            <i class="fas fa-unlock"></i> 
            <span>Desbloquear</span>
          </button>
        </div>
      </div>
    </li>
  </ul>
</div>

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">