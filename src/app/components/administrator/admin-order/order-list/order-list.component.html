<div class="bg-light-background dark:bg-dark-background rounded-lg shadow-sm p-4 sm:p-6 border border-gray-200 dark:border-gray-700">
  <h3 class="text-lg font-semibold text-light-text dark:text-dark-text mb-4">
    <ng-container *ngIf="selectedDate; else allOrders">
      Órdenes del {{ selectedDate | date:'dd/MM' }} ({{ dateFilter === 'delivery' ? 'entrega' : 'creación' }})
    </ng-container>
    <ng-template #allOrders>Todas las órdenes</ng-template>
  </h3>
  <div class="space-y-3 max-h-96 overflow-y-auto">
    <div
      *ngFor="let order of orders; trackBy: trackByOrderId"
      class="border border-gray-200 dark:border-gray-600 rounded-lg p-3 cursor-pointer hover:bg-light-row-hover dark:hover:bg-dark-row-hover transition-all duration-300"
      (click)="onOrderSelect(order)"
    >
      <div class="flex items-center justify-between mb-2">
        <span class="font-medium text-light-text dark:text-dark-text">#{{ order.order_id }}</span>
        <div class="px-2 py-1 rounded-full text-xs font-medium" [ngClass]="getStatusColor(order.order_status)">
          {{ order.order_status }}
        </div>
      </div>
      <div class="text-sm text-light-secondary dark:text-dark-secondary mb-1">{{ order.customer_name }}</div>
      <div class="text-sm font-medium text-light-text dark:text-dark-text mb-1">{{ formatCurrency(order.total) }}</div>
      <div class="text-xs text-light-secondary dark:text-dark-secondary space-y-1">
        <div class="flex justify-between">
          <span>Creada:</span>
          <span>{{ order.created_at | date:'dd/MM/yyyy' }}</span>
        </div>
        <div class="flex justify-between">
          <span>Entrega:</span>
          <span>{{ order.estimated_delivery_date | date:'dd/MM/yyyy' }}</span>
        </div>
      </div>
    </div>
    <div
      *ngIf="orders.length === 0"
      class="text-center py-8 text-light-secondary dark:text-dark-secondary"
    >
      <i class="fas fa-box w-8 h-8 mx-auto mb-2 opacity-50"></i>
      <p>No hay órdenes para esta fecha</p>
    </div>
  </div>
</div>