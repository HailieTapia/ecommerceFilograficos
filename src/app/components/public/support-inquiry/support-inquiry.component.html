<div class="w-full p-2 bg-light-background dark:bg-dark-background">
  <div class="flex flex-col md:flex-row justify-center ">

    <!-- Formulario de Soporte -->
    <div class="w-full md:w-1/2 p-10">
      <h2 class="text-xl font-semibold mb-8 text-gray-800 dark:text-white text-center">Formulario de Soporte Técnico
      </h2>

      <!-- Mensaje de éxito -->
      <div *ngIf="submitted"
        class="bg-green-50 dark:bg-green-900/30 border border-green-200 dark:border-green-700/50 text-green-800 dark:text-green-200 p-6 rounded-2xl mb-6 flex items-center gap-3">
        <i class="fas fa-check-circle text-green-600 dark:text-green-400 text-xl"></i>
        <div>
          <p class="text-gray-800 dark:text-white">Tu mensaje ha sido enviado exitosamente. Te contactaremos pronto
            durante nuestro horario de atención.</p>
        </div>
      </div>

      <form [formGroup]="supportForm" (ngSubmit)="onSubmit()" class="space-y-8">
        <div class="relative">
          <input type="text" formControlName="user_name"
            class="w-full p-2 bg-transparent border-0 border-b-2 border-gray-200 dark:border-gray-600 text-gray-800 dark:text-white placeholder-transparent focus:outline-none focus:border-blue-500 transition-all duration-300 text-lg"
            placeholder="Ingresa tu nombre" id="user_name" />
          <label for="user_name"
            class="absolute left-0 -top-6 text-gray-600 dark:text-gray-400 text-sm font-medium transition-all duration-300">Nombre:</label>
          <div *ngIf="supportForm.get('user_name')?.invalid && supportForm.get('user_name')?.touched"
            class="text-red-500 text-xs mt-2">
            El nombre es requerido y debe tener al menos 2 caracteres.
          </div>
        </div>

        <div class="relative">
          <input type="email" formControlName="user_email"
            class="w-full p-2 bg-transparent border-0 border-b-2 border-gray-200 dark:border-gray-600 text-gray-800 dark:text-white placeholder-transparent focus:outline-none focus:border-blue-500 transition-all duration-300 text-lg"
            placeholder="Ingresa tu email" id="user_email" />
          <label for="user_email"
            class="absolute left-0 -top-6 text-gray-600 dark:text-gray-400 text-sm font-medium transition-all duration-300">Email:</label>
          <div *ngIf="supportForm.get('user_email')?.invalid && supportForm.get('user_email')?.touched"
            class="text-red-500 text-xs mt-2">
            Ingresa un email válido.
          </div>
        </div>

        <div class="relative">
          <input type="text" formControlName="subject"
            class="w-full p-2 bg-transparent border-0 border-b-2 border-gray-200 dark:border-gray-600 text-gray-800 dark:text-white placeholder-transparent focus:outline-none focus:border-blue-500 transition-all duration-300 text-lg"
            placeholder="Ingresa el asunto" id="subject" />
          <label for="subject"
            class="absolute left-0 -top-6 text-gray-600 dark:text-gray-400 text-sm font-medium transition-all duration-300">Asunto:</label>
          <div *ngIf="supportForm.get('subject')?.invalid && supportForm.get('subject')?.touched"
            class="text-red-500 text-xs mt-2">
            El asunto es requerido y debe tener al menos 5 caracteres.
          </div>
        </div>

        <div class="relative">
          <textarea formControlName="message"
            class="w-full bg-transparent border-2 border-gray-200 dark:border-gray-600 rounded-2xl h-32 text-gray-800 dark:text-white placeholder-gray-400 focus:outline-none focus:border-blue-500 transition-all duration-300 resize-none text-lg"
            placeholder="Escribe tu mensaje" maxlength="500" id="message"></textarea>
          <label for="message"
            class="absolute left-0 -top-6 text-gray-600 dark:text-gray-400 text-sm font-medium transition-all duration-300">Mensaje:</label>
          <div *ngIf="supportForm.get('message')?.invalid && supportForm.get('message')?.touched"
            class="text-red-500 text-xs mt-2">
            El mensaje es requerido y no debe exceder 500 caracteres.
          </div>
        </div>

        <!-- reCAPTCHA -->
        <div class="form-group text-center">
          <div id="support-recaptcha-container" class="flex justify-center"></div>
          <div *ngIf="supportForm.get('recaptchaToken')?.invalid && supportForm.get('recaptchaToken')?.touched"
            class="text-red-500 text-xs mt-2">
            Debes completar el reCAPTCHA.
          </div>
        </div>

        <button type="submit"
          class="w-full bg-light-encabezado text-white py-4 rounded-2xl hover:bg-blue-700 focus:ring-4 focus:ring-blue-200 transition-all duration-300 font-medium text-lg shadow-lg hover:shadow-xl"
          [disabled]="supportForm.invalid">
          Enviar
        </button>
      </form>
    </div>

    <!-- Información de Contacto -->
    <div class="w-full md:w-1/2 p-10">
      <h2 class="text-xl font-semibold mb-8 text-gray-800 dark:text-white text-center">Información de Contacto</h2>
      <p class="text-base text-gray-700 dark:text-gray-300 text-center mb-6">
        Nos encanta escucharte, contáctanos por el canal que prefieras.
      </p>

      <div class="grid grid-cols-1 sm:grid-cols-4 gap-4">
        <a href="tel:{{ companyInfo?.phone_number || '7713220075' }}"
          class="bg-light-card-hover dark:bg-dark-card-hover p-4 rounded-lg border border-gray-100 dark:border-gray-700 shadow-sm hover:bg-light-primary/5 dark:hover:bg-dark-primary/10 transition-colors group">
          <div class="flex flex-col items-center text-center">
            <div
              class="bg-light-primary/10 dark:bg-dark-primary/20 p-3 rounded-full mb-3 group-hover:bg-light-primary/20 dark:group-hover:bg-dark-primary/30 transition-colors">
              <i class="fas fa-phone text-xl text-light-primary dark:text-dark-primary"></i>
            </div>
            <h4 class="font-medium text-light-text dark:text-dark-text mb-1">Teléfono</h4>
            <p class="text-sm text-light-secondary dark:text-dark-secondary">{{ companyInfo?.phone_number ||
              '7713220075' }}</p>
          </div>
        </a>

        <a href="mailto:{{ companyInfo?.email || 'filograficos@gmail.com' }}"
          class="bg-light-card-hover dark:bg-dark-card-hover p-4 rounded-lg border border-gray-100 dark:border-gray-700 shadow-sm hover:bg-light-primary/5 dark:hover:bg-dark-primary/10 transition-colors group">
          <div class="flex flex-col items-center text-center">
            <div
              class="bg-light-primary/10 dark:bg-dark-primary/20 p-3 rounded-full mb-3 group-hover:bg-light-primary/20 dark:group-hover:bg-dark-primary/30 transition-colors">
              <i class="fas fa-envelope text-xl text-light-primary dark:text-dark-primary"></i>
            </div>
            <h4 class="font-medium text-light-text dark:text-dark-text mb-1">Correo</h4>
            <p class="text-sm text-light-secondary dark:text-dark-secondary">{{ companyInfo?.email ||
              'filograficos@gmail.com' }}</p>
          </div>
        </a>

        <a href="https://wa.me/52{{ companyInfo?.phone_number || '7713220075' }}" target="_blank"
          class="bg-light-card-hover dark:bg-dark-card-hover p-4 rounded-lg border border-gray-100 dark:border-gray-700 shadow-sm hover:bg-light-primary/5 dark:hover:bg-dark-primary/10 transition-colors group">
          <div class="flex flex-col items-center text-center">
            <div
              class="bg-light-primary/10 dark:bg-dark-primary/20 p-3 rounded-full mb-3 group-hover:bg-light-primary/20 dark:group-hover:bg-dark-primary/30 transition-colors">
              <i class="fab fa-whatsapp text-xl text-light-primary dark:text-dark-primary"></i>
            </div>
            <h4 class="font-medium text-light-text dark:text-dark-text mb-1">WhatsApp</h4>
            <p class="text-sm text-light-secondary dark:text-dark-secondary">{{ companyInfo?.phone_number ||
              '7713220075' }}</p>
          </div>
        </a>

        <a href="https://maps.app.goo.gl/kS1qnSQX1f7YfB9r9" target="_blank"
          class="bg-light-card-hover dark:bg-dark-card-hover p-4 rounded-lg border border-gray-100 dark:border-gray-700 shadow-sm hover:bg-light-primary/5 dark:hover:bg-dark-primary/10 transition-colors group">
          <div class="flex flex-col items-center text-center">
            <div
              class="bg-light-primary/10 dark:bg-dark-primary/20 p-3 rounded-full mb-3 group-hover:bg-light-primary/20 dark:group-hover:bg-dark-primary/30 transition-colors">
              <i class="fas fa-map-marker-alt text-xl text-light-primary dark:text-dark-primary"></i>
            </div>
            <h4 class="font-medium text-light-text dark:text-dark-text mb-1">Ubicación</h4>
            <p class="text-sm mb-2 text-light-secondary dark:text-dark-secondary">
              {{ companyInfo?.address_street || '123 Calle Principal' }}
            </p>
          </div>
        </a>
      </div>

      <!-- Recuadro de Google Maps -->
      <div class="border rounded-lg overflow-hidden h-80 border-gray-200 dark:border-gray-600">
        <iframe
          src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3742.123456789012!2d-98.73384268456789!3d20.123456789012345!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x85d1a123456789ab%3A0x1234567890abcdef!2sCalle%20Plaza%20Ju%C3%A1rez%2C%20Centro%2C%2042000%20Pachuca%20de%20Soto%2C%20Hidalgo!5e0!3m2!1ses!2smx!4v1234567890123!5m2!1ses!2smx"
          width="100%" height="100%" style="border:0;" allowfullscreen="" loading="lazy"
          referrerpolicy="no-referrer-when-downgrade"></iframe>
      </div>

    </div>
  </div>
</div>