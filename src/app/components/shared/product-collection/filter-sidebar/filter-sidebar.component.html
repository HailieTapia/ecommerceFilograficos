<div class="w-80 border-r border-gray-200 p-6 h-full overflow-y-auto">
  <!-- Título -->
  <h2 class="text-xl font-semibold text-light-text dark:text-dark-text mb-4">Filtros</h2>
  
  <!-- Botón Limpiar -->
  <button 
    (click)="resetFilters()"
    class="text-light-success-text dark:text-dark-resolved underline hover:no-underline hover:text-light-verde dark:hover:text-dark-resolved-text transition-colors mb-4 text-sm font-medium"
  >
    Limpiar
  </button>
  
  <!-- Línea divisoria -->
  <div class="border-b border-gray-100 dark:border-gray-700 mb-6"></div>
  
  <!-- Filtro por Categoría -->
  <div class="mb-8">
    <h3 class="text-sm font-medium text-light-text dark:text-dark-text mb-4">Categorías</h3>
    <div class="space-y-3">
      <label class="flex items-center cursor-pointer group">
        <input
          type="radio"
          name="categoryFilter"
          [(ngModel)]="filters.categoryId"
          (ngModelChange)="applyFilters()"
          [value]="null"
          class="w-4 h-4 text-light-primary dark:text-dark-primary border-gray-300 dark:border-gray-600 focus:ring-light-primary-hover dark:focus:ring-dark-primary-hover focus:ring-2 rounded-full"
        />
        <span class="ml-3 text-sm text-light-secondary dark:text-dark-secondary group-hover:text-light-primary dark:group-hover:text-dark-primary leading-5 transition-colors">
          Todas
        </span>
      </label>
      <label *ngFor="let category of categories" class="flex items-center cursor-pointer group">
        <input
          type="radio"
          name="categoryFilter"
          [(ngModel)]="filters.categoryId"
          (ngModelChange)="applyFilters()"
          [value]="category.category_id"
          class="w-4 h-4 text-light-primary dark:text-dark-primary border-gray-300 dark:border-gray-600 focus:ring-light-primary-hover dark:focus:ring-dark-primary-hover focus:ring-2 rounded-full"
        />
        <span class="ml-3 text-sm text-light-secondary dark:text-dark-secondary group-hover:text-light-primary dark:group-hover:text-dark-primary leading-5 transition-colors break-words">
          {{ category.name }}
        </span>
      </label>
    </div>
  </div>
  
  <!-- Filtro por Precio -->
  <div class="mb-8">
    <h3 class="text-sm font-medium text-light-text dark:text-dark-text mb-4">Rango de Precios</h3>
    <div class="flex items-center space-x-2">
      <input
        type="number"
        [(ngModel)]="filters.minPrice"
        (keydown)="onPriceKeydown($event)"
        placeholder="Mínimo"
        inputmode="numeric"
        pattern="[0-9]*"
        min="0"
        class="w-20 px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md text-sm text-light-text dark:text-dark-text bg-light-background dark:bg-dark-background focus:outline-none focus:ring-2 focus:ring-light-primary-hover dark:focus:ring-dark-primary-hover focus:border-transparent placeholder-light-secondary dark:placeholder-dark-secondary"
      />
      <span class="text-gray-400 dark:text-gray-500">-</span>
      <input
        type="number"
        [(ngModel)]="filters.maxPrice"
        (keydown)="onPriceKeydown($event)"
        placeholder="Máximo"
        inputmode="numeric"
        pattern="[0-9]*"
        min="0"
        class="w-20 px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md text-sm text-light-text dark:text-dark-text bg-light-background dark:bg-dark-background focus:outline-none focus:ring-2 focus:ring-light-primary-hover dark:focus:ring-dark-primary-hover focus:border-transparent placeholder-light-secondary dark:placeholder-dark-secondary"
      />
      <button
        (click)="applyPriceFilters()"
        class="p-2 bg-light-primary dark:bg-dark-primary text-white rounded-lg hover:bg-light-primary-hover dark:hover:bg-dark-primary-hover transition-colors"
      >
        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
        </svg>
      </button>
    </div>
  </div>
  
  <!-- Filtro por Vendedor -->
  <div *ngIf="showCollaboratorFilter" class="mb-8">
    <h3 class="text-sm font-medium text-light-text dark:text-dark-text mb-4">Vendedores</h3>
    <div class="space-y-3">
      <label class="flex items-center cursor-pointer group">
        <input
          type="radio"
          name="collaboratorFilter"
          [(ngModel)]="filters.collaboratorId"
          (ngModelChange)="applyFilters()"
          [value]="null"
          class="w-4 h-4 text-light-primary dark:text-dark-primary border-gray-300 dark:border-gray-600 focus:ring-light-primary-hover dark:focus:ring-dark-primary-hover focus:ring-2 rounded-full"
        />
        <span class="ml-3 text-sm text-light-secondary dark:text-dark-secondary group-hover:text-light-primary dark:group-hover:text-dark-primary leading-5 transition-colors">
          Todos
        </span>
      </label>
      <label *ngFor="let collaborator of collaborators" class="flex items-center cursor-pointer group">
        <input
          type="radio"
          name="collaboratorFilter"
          [(ngModel)]="filters.collaboratorId"
          (ngModelChange)="applyFilters()"
          [value]="collaborator.collaborator_id"
          class="w-4 h-4 text-light-primary dark:text-dark-primary border-gray-300 dark:border-gray-600 focus:ring-light-primary-hover dark:focus:ring-dark-primary-hover focus:ring-2 rounded-full"
        />
        <span class="ml-3 text-sm text-light-secondary dark:text-dark-secondary group-hover:text-light-primary dark:group-hover:text-dark-primary leading-5 transition-colors break-words">
          {{ collaborator.name }}
        </span>
      </label>
    </div>
  </div>
  
  <!-- Filtro por Ofertas y Descuentos -->
  <div class="mb-8">
    <h3 class="text-sm font-medium text-light-text dark:text-dark-text mb-4">Ofertas y Descuentos</h3>
    <label class="flex items-center cursor-pointer group">
      <input
        type="checkbox"
        [(ngModel)]="filters.onlyOffers"
        (ngModelChange)="applyFilters()"
        class="w-4 h-4 text-light-primary dark:text-dark-primary border-gray-300 dark:border-gray-600 rounded focus:ring-light-primary-hover dark:focus:ring-dark-primary-hover focus:ring-2"
      />
      <span class="ml-3 text-sm text-light-secondary dark:text-dark-secondary group-hover:text-light-primary dark:group-hover:text-dark-primary transition-colors">
        Solo productos en oferta
      </span>
    </label>
  </div>
  
  <!-- Filtro por Calificaciones -->
  <div class="mb-6">
    <h3 class="text-sm font-medium text-light-text dark:text-dark-text mb-4">Por Calificaciones</h3>
    <div class="space-y-3">
      <label *ngFor="let rating of [5, 4, 3, 2, 1]" class="flex items-center cursor-pointer group">
        <input
          type="radio"
          name="ratingFilter"
          [(ngModel)]="filters.averageRating"
          (ngModelChange)="applyFilters()"
          [value]="rating"
          class="w-4 h-4 text-light-primary dark:text-dark-primary border-gray-300 dark:border-gray-600 focus:ring-light-primary-hover dark:focus:ring-dark-primary-hover focus:ring-2 rounded-full"
        />
        <div class="ml-3 flex items-center text-sm text-light-secondary dark:text-dark-secondary group-hover:text-light-primary dark:group-hover:text-dark-primary transition-colors">
          <div class="flex items-center mr-2">
            <svg *ngFor="let i of [1,2,3,4,5]" class="w-4 h-4" [ngClass]="i <= rating ? 'text-yellow-400 dark:text-yellow-300' : 'text-gray-300 dark:text-gray-600'" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg">
              <path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.286 3.97a1 1 0 00.95.69h4.178c.969 0 1.371 1.24.588 1.81l-3.375 2.45a1 1 0 00-.364 1.118l1.286 3.97c.3.921-.755 1.688-1.54 1.118l-3.375-2.45a1 1 0 00-1.175 0l-3.375 2.45c-.784.57-1.838-.197-1.54-1.118l1.286-3.97a1 1 0 00-.364-1.118L2.41 9.397c-.783-.57-.38-1.81.588-1.81h4.178a1 1 0 00.95-.69l1.286-3.97z"></path>
            </svg>
          </div>
          <span [ngClass]="filters.averageRating === rating ? 'font-semibold' : ''">{{ rating }}</span>
        </div>
      </label>
      <label class="flex items-center cursor-pointer group">
        <input
          type="radio"
          name="ratingFilter"
          [(ngModel)]="filters.averageRating"
          (ngModelChange)="applyFilters()"
          [value]="null"
          class="w-4 h-4 text-light-primary dark:text-dark-primary border-gray-300 dark:border-gray-600 focus:ring-light-primary-hover dark:focus:ring-dark-primary-hover focus:ring-2 rounded-full"
        />
        <span class="ml-3 text-sm text-light-secondary dark:text-dark-secondary group-hover:text-light-primary dark:group-hover:text-dark-primary leading-5 transition-colors" [ngClass]="filters.averageRating === null ? 'font-semibold' : ''">
          Todas
        </span>
      </label>
    </div>
  </div>
</div>